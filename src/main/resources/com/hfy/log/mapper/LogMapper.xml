<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.hfy.log.mapper.LogMapper" ><!-- Result Map--><resultMap id="log" type="com.hfy.log.entity.Log" >	<result column="id" property="id"/>	<result column="ip" property="ip"/><result column="oper_person" property="operPerson"/><result column="oper_type" property="operType"/><result column="oper_title" property="operTitle"/><result column="oper_table" property="operTable"/><result column="oper_url" property="operUrl"/><result column="oper_start_date" property="operStartDate"/><result column="oper_end_date" property="operEndDate"/><result column="oper_data" property="operData"/><result column="log_type" property="logType"/><result column="oper_method" property="operMethod"/><result column="oper_exception" property="operException"/></resultMap><!-- f_order table all fields --><sql id="columnList" >	bl.id,	 bl.ip, bl.oper_person, bl.oper_type, bl.oper_title, bl.oper_table, bl.oper_url, bl.oper_start_date, bl.oper_end_date, bl.oper_data, bl.log_type, bl.oper_method, bl.oper_exception</sql><!-- 查询条件 --><sql id="whereClause">where 1=1<trim  suffixOverrides="," >	<if test="id != null" >	    and bl.id = #{id}	</if>	<if test="ip != null" >and  bl.ip = #{ip}</if><if test="operPerson != null" >and  bl.oper_person = #{operPerson}</if><if test="operType != null" >and  bl.oper_type = #{operType}</if><if test="operTitle != null" >and  bl.oper_title = #{operTitle}</if><if test="operTable != null" >and  bl.oper_table = #{operTable}</if><if test="operUrl != null" >and  bl.oper_url = #{operUrl}</if><if test="operData != null" >and  bl.oper_data = #{operData}</if><if test="logType != null" >and  bl.log_type = #{logType}</if><if test="operMethod != null" >and  bl.oper_method = #{operMethod}</if><if test="operException != null" >and  bl.oper_exception = #{operException}</if></trim></sql><!-- 模糊查询条件 --><sql id="whereLikeClause">where 1=1<trim  suffixOverrides="," >	<if test="id != null" >	    and bl.id = #{id}	</if>													 			<if test="ip != null" >and  UPPER(bl.ip) LIKE   UPPER(CONCAT(CONCAT('%',#{ip}),'%'))</if><if test="operPerson != null" >and  UPPER(bl.oper_person) LIKE   UPPER(CONCAT(CONCAT('%',#{operPerson}),'%'))</if><if test="operType != null" >and  UPPER(bl.oper_type) LIKE   UPPER(CONCAT(CONCAT('%',#{operType}),'%'))</if><if test="operTitle != null" >and  UPPER(bl.oper_title) LIKE   UPPER(CONCAT(CONCAT('%',#{operTitle}),'%'))</if><if test="operTable != null" >and  UPPER(bl.oper_table) LIKE   UPPER(CONCAT(CONCAT('%',#{operTable}),'%'))</if><if test="operUrl != null" >and  UPPER(bl.oper_url) LIKE   UPPER(CONCAT(CONCAT('%',#{operUrl}),'%'))</if><if test="operData != null" >and  UPPER(bl.oper_data) LIKE   UPPER(CONCAT(CONCAT('%',#{operData}),'%'))</if><if test="logType != null" >and  UPPER(bl.log_type) LIKE   UPPER(CONCAT(CONCAT('%',#{logType}),'%'))</if><if test="operMethod != null" >and  UPPER(bl.oper_method) LIKE   UPPER(CONCAT(CONCAT('%',#{operMethod}),'%'))</if><if test="operException != null" >and  UPPER(bl.oper_exception) LIKE   UPPER(CONCAT(CONCAT('%',#{operException}),'%'))</if></trim></sql><!-- 插入记录 --><insert id="insert" parameterType="Object" useGeneratedKeys="true" keyProperty="id">  insert into base_log (id,ip,oper_person,oper_type,oper_title,oper_table,oper_url,oper_start_date,oper_end_date,oper_data,log_type,oper_method,oper_exception)  values(sys_guid(),#{ip,jdbcType=VARCHAR},#{operPerson,jdbcType=VARCHAR},#{operType,jdbcType=VARCHAR},#{operTitle,jdbcType=VARCHAR},#{operTable,jdbcType=VARCHAR},#{operUrl,jdbcType=VARCHAR},#{operStartDate,jdbcType=TIMESTAMP},#{operEndDate,jdbcType=TIMESTAMP},#{operData,jdbcType=VARCHAR},#{logType,jdbcType=VARCHAR},#{operMethod,jdbcType=VARCHAR},#{operException,jdbcType=VARCHAR})</insert><!-- 查询单个实体 --><select id="getEntityById"  resultMap="log" parameterType="Object">	select <include refid="columnList" /> 	from base_log  bl	where  bu.id = #{id}</select><!-- 列表总数--><select id="count" resultType="java.lang.Long"  parameterType="Object">	select count(1) 	from base_log bl	<include refid="whereClause"/></select><!-- 查询列表  返回List<ENTITY>--><select id="queryList" resultMap="log"  parameterType="Object">	select 	<include refid="columnList"/>	from base_log bl	<include refid="whereClause"/></select><!-- 查询列表  返回List<Map<String,Object>>--><select id="queryListMap" resultType="java.util.HashMap"  parameterType="Object">	select 	<include refid="columnList"/>	from base_log bl	<include refid="whereClause"/></select><!-- 模糊查询列表  返回List<ENTITY>--><select id="queryListByLike" resultMap="log"  parameterType="Object">	select 	<include refid="columnList"/>	from base_log bl	<include refid="whereLikeClause"/></select><!-- 模糊查询列表  返回List<Map<String,Object>>--><select id="queryListMapByLike" resultType="java.util.HashMap"  parameterType="Object">	select 	<include refid="columnList"/>	from base_log bl	<include refid="whereLikeClause"/></select><!-- 日志分表 --><update id="logSubmeter" parameterType="Object">${sql}</update></mapper>